const playPauseButton=document.getElementById("playPauseButton"),audio=document.getElementById("pokemonCry");playPauseButton.addEventListener("click",function(){audio.paused?(audio.play(),playPauseButton.classList.remove("play"),playPauseButton.classList.add("pause")):(audio.pause(),playPauseButton.classList.remove("pause"),playPauseButton.classList.add("play"))}),audio.addEventListener("ended",function(){playPauseButton.classList.remove("pause"),playPauseButton.classList.add("play")});const pokemonArea=document.getElementById("js-list-pokemon"),typeArea=document.getElementById("js-list-types"),typeAreaMobile=document.querySelector(".dropdown-select"),pokemonCounter=document.getElementById("js-count-pokemon"),typeAllButton=document.getElementById("special-button"),sectionAllInfoPokemon=document.querySelector(".s-all-info-pokemon"),btnLoadMore=document.getElementById("js-btn-load-more"),inputSearch=document.getElementById("js-input-search"),btnSearch=document.getElementById("js-btn-search");let countPagination=0;const limit=151;typeAllButton.addEventListener("click",e=>filterByTypes(e));const parseNameBR=e=>dadosNomesPokemon[e]||!1,parseTypeBR=e=>{if(e[0].type)return dadosTiposPokemon[e[0].type.url.split("/")[6]];e=e.split("/")[6];return dadosTiposPokemon[e]},capitalizeFirstLetter=e=>""+e.charAt(0).toUpperCase()+e.slice(1,e.length),toggleDetailsPokemon=()=>{document.documentElement.classList.toggle("open-modal")},createCardPokemon=e=>{var{name:t,id:o,sprite:n,spriteReserva:a,typeBR:s,type:e}=e;const l=document.createElement("button");l.classList="card-pokemon js-open-pokemon-details "+e;const i=document.createElement("div");i.classList="image",l.appendChild(i);const c=document.createElement("img");c.className="thumb-img",n?c.setAttribute("src",n):c.setAttribute("src",a),i.appendChild(c);const r=document.createElement("div");r.classList="info";const p=document.createElement("div");p.classList="txt";const d=document.createElement("span");d.textContent=o<10?"#00"+o:o<100?"#0"+o:"#"+o;const m=document.createElement("h3");m.textContent=""+t,p.append(d,m),r.appendChild(p);const u=document.createElement("div");u.classList="icon";const y=document.createElement("img");y.setAttribute("src",`./img/icon-types/${e}.svg`),y.setAttribute("alt",s),u.appendChild(y),r.appendChild(u),l.appendChild(r),pokemonArea.appendChild(l)},createPokemonTypes=t=>{const{name:o,url:e,nameBR:n}=t,a=document.createElement("li"),s=Number(e.split("/")[6]);if(10001!==s&&10002!==s){const l=document.createElement("button");l.classList="type-filter "+o;const i=document.createElement("div");i.classList="icon",l.appendChild(i);const c=document.createElement("img");t=`./img/icon-types/${o}.svg`;c.setAttribute("src",t),c.setAttribute("alt",n),pokemonArea.appendChild(l),i.appendChild(c);const r=document.createElement("span");r.textContent=n,l.appendChild(i),l.appendChild(r),l.addEventListener("click",e=>filterByTypes(e,s)),a.appendChild(l),typeArea.appendChild(a);let e=document.createElement("li");const p=document.createElement("button");p.classList="type-filter "+o;const d=document.createElement("div");d.classList="icon";const m=document.createElement("img");m.setAttribute("src",t),m.setAttribute("alt",n),d.appendChild(m);const u=document.createElement("span");u.textContent=n,p.appendChild(d),p.appendChild(u),e.appendChild(p),typeAreaMobile.appendChild(e),e.addEventListener("click",e=>filterByTypes(e,s))}},listPokemon=async e=>{await axios({method:"GET",url:e}).then(e=>{const{count:t,results:o}=e.data;pokemonCounter.textContent=t,o.sort((e,t)=>e.id-t.id),o.forEach(c=>{const r=c.url;axios({method:"GET",url:r}).then(e=>{var{id:t,sprites:o,types:n,cries:a}=e.data;let s=parseNameBR(t);s=s||capitalizeFirstLetter(c.name);e=parseTypeBR(n),e={name:s,id:t,sprite:o.other.dream_world.front_default,spriteReserva:o.front_default,cry:a.latest,urlAPIDetails:r,type:n[0].type.name,typeBR:e};createCardPokemon(e);const l=document.querySelectorAll(".js-open-pokemon-details");l.forEach(e=>{e.addEventListener("click",toggleDetailsPokemon)});const i=document.querySelectorAll(".close-modal");i&&i.forEach(e=>{e.addEventListener("click",toggleDetailsPokemon)})})})})},listPokemonTypes=async e=>{await axios({method:"GET",url:e}).then(e=>{const{count:t,results:o}=e.data;document.getElementById("js-count-types").textContent=t,o.forEach(e=>{var{name:t,url:o}=e,e={name:t,url:o,nameBR:parseTypeBR(e.url)};createPokemonTypes(e)})})},filterByTypes=async(e,t)=>{if(t)try{var o=sectionAllInfoPokemon.offsetTop;window.scrollTo({top:o+288,behavior:"smooth"});const n=document.querySelectorAll(".type-filter");n.forEach(e=>{e.classList.remove("active")}),e.currentTarget.classList.add("active"),pokemonArea.innerHTML="",btnLoadMore.style.display="none",axios({method:"GET",url:"https://pokeapi.co/api/v2/type/"+t}).then(e=>{const t=e.data["pokemon"];pokemonCounter.textContent=t.length,t.forEach(e=>{const c=e.pokemon["url"];axios({method:"GET",url:""+c}).then(e=>{var{id:t,sprites:o,types:n,cries:a}=e.data;let s=parseNameBR(t);s=s||capitalizeFirstLetter(e.data.name);e=parseTypeBR(n),e={name:s,id:t,sprite:o.other.dream_world.front_default,spriteReserva:o.front_default,cry:a.latest,urlAPIDetails:c,type:n[0].type.name,typeBR:e};createCardPokemon(e);const l=document.querySelectorAll(".js-open-pokemon-details");l.forEach(e=>{e.addEventListener("click",toggleDetailsPokemon)});const i=document.querySelectorAll(".close-modal");i&&i.forEach(e=>{e.addEventListener("click",toggleDetailsPokemon)})})})})}catch(e){console.error(e)}else{t=sectionAllInfoPokemon.offsetTop;window.scrollTo({top:t+288,behavior:"smooth"});const a=document.querySelectorAll(".type-filter");a.forEach(e=>{e.classList.remove("active")}),e.currentTarget.classList.add("active"),pokemonArea.innerHTML="",countPagination=0,btnLoadMore.style.display="block",listPokemon(`https://pokeapi.co/api/v2/pokemon/?limit=${limit}&offset=`+countPagination)}};listPokemon(`https://pokeapi.co/api/v2/pokemon/?limit=${limit}&offset=`+countPagination),countPagination++,listPokemonTypes("https://pokeapi.co/api/v2/type/");const loadMorePokemon=()=>{var e=countPagination*limit;listPokemon(`https://pokeapi.co/api/v2/pokemon/?limit=${limit}&offset=`+e),countPagination++};btnLoadMore.addEventListener("click",loadMorePokemon);const searchPokemon=()=>{let p=inputSearch.value.toLowerCase();p?axios({method:"GET",url:"https://pokeapi.co/api/v2/pokemon/"+p}).then(e=>{const t=document.querySelectorAll(".type-filter");t.forEach(e=>{e.classList.remove("active")}),pokemonArea.innerHTML="",btnLoadMore.style.display="none",pokemonCounter.textContent=1;var{id:o,sprites:n,types:a,cries:s}=e.data;let l=parseNameBR(o);l=l||capitalizeFirstLetter(pokemon.name);var i=parseTypeBR(a),e="https://pokeapi.co/api/v2/pokemon/"+p,i={name:l,id:o,sprite:n.other.dream_world.front_default,spriteReserva:n.front_default,cry:s.latest,urlAPIDetails:e,type:a[0].type.name,typeBR:i};createCardPokemon(i);const c=document.querySelectorAll(".js-open-pokemon-details");c.forEach(e=>{e.addEventListener("click",toggleDetailsPokemon)});const r=document.querySelectorAll(".close-modal");r&&r.forEach(e=>{e.addEventListener("click",toggleDetailsPokemon)})}).catch(e=>{alert("Pokémon não encontrado.")}):(alert("Digite um valor na busca."),pokemonArea.innerHTML="",countPagination=0,listPokemon(`https://pokeapi.co/api/v2/pokemon/?limit=${limit}&offset=`+countPagination),countPagination++,typeAllButton.classList.add("active"),btnLoadMore.style.display="block")};btnSearch.addEventListener("click",searchPokemon),inputSearch.addEventListener("keyup",e=>{"Enter"!==e.code&&"NumpadEnter"!==e.code||searchPokemon()});var slide_hero=new Swiper(".slide-hero",{effect:"fade",pagination:{el:".slide-hero .area-explore .swiper-pagination"}});const btnDropdownSelect=document.querySelector(".js-open-select-custom");btnDropdownSelect&&btnDropdownSelect.addEventListener("click",()=>{btnDropdownSelect.parentElement.classList.toggle("active")});